<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns="http://www.w3.org/1999/html">
<header>
    <nav class="main-nav">
        <a th:href="@{/}"><img src="/images/d3bcf019051f0df15b1a8ab4a12934df--logo-s-logo-branding.jpg"
                               class="logo"></a>

        <div class="nav-links">

            <ul>

                <th:block>

                    <li>
                        <a th:text="#{navbar_home}"
                                href="/">Home</a>
                    </li>

                    <li>
                        <a th:text="#{navbar_about}" th:href="@{/about}">About</a>
                    </li>

                </th:block>

                <th:block sec:authorize="hasRole('ADMIN')">
                    <li>
                    <li><a th:text="#{navbar_add_series}"
                        th:href="@{/series/add}">Add Series</a></li>

                    <li><a th:text="#{navbar_add_movies}"
                            th:href="@{/movies/add}">Add Movie</a></li>

                    <li><a th:text="#{navbar_all_users}"
                            th:href="@{/admin/users/all}">All Users</a></li>
                    </li>
                </th:block>


                <th:block sec:authorize="!isAuthenticated()">
                    <li>
                        <a th:text="#{navbar_login}"
                                th:href="@{/users/login}">Login</a>
                    </li>

                    <li>
                        <a th:text="#{navbar_register}"
                                th:href="@{/users/register}">Register</a>
                    </li>

                </th:block>


                <th:block sec:authorize="isAuthenticated()">
                    <li>
                        <a th:text="#{navbar_series}"
                                th:href="@{/series/all}">Series</a>
                    </li>

                    <li>
                        <a th:text="#{navbar_movies}"
                                th:href="@{/movies/all}">Movies</a>
                    </li>

                    <li>
                        <a th:text="#{navbar_my_list}"
                                th:href="@{/myList}">My List</a>
                    </li>

                    <li>
                        <a th:text="#{navbar_profile}"
                                th:href="@{/profile}">Profile</a>
                    </li>

                    <li>
                        <a class="search">
                            <form th:action="@{/search}"
                                  th:method="GET">
                                <input class="search-placeholder" type="text" name="query" placeholder="Search">
                                <button class="submit" type="submit"></button>
                            </form>
                        </a>
                    </li>

                    <li>
                        <a>
                            <form th:action="@{/users/logout}"
                                  th:method="POST">
                                <button th:text="#{navbar_logout}"  type="submit">Logout</button>
                            </form>
                        </a>
                    </li>
                </th:block>

                <li class="nav-item">
                    <form th:method="get">
                        <label class="lang" th:text="#{navbar_language}" for="lang"></label>
                        <select class="lang-option"
                                onchange="this.form.submit()"
                                id="lang"
                                name="lang">
                            <option class="lang-option" value="en_US" th:selected="${#locale.toString()} == 'en_US'">English</option>
                            <option class="lang-option"  value="bg_BG" th:selected="${#locale.toString()} == 'bg_BG'">Български</option>
                        </select>
                    </form>
                </li>

            </ul>
        </div>

    </nav>
</header>
</html>